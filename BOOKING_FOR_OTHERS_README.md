# ููุฒุฉ ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ - TabibiQ Backend

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุถุงูุฉ ููุฒุฉ ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ ุฅูู ูุธุงู TabibiQุ ููุง ูุณูุญ ูููุณุชุฎุฏููู ุจุญุฌุฒ ููุงุนูุฏ ููุฃุทุจุงุก ููุงุจุฉ ุนู ุฃุดุฎุงุต ุขุฎุฑูู (ุฃูุฑุงุฏ ุงูุนุงุฆูุฉุ ุงูุฃุตุฏูุงุกุ ุฅูุฎ).

## ๐ ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูููุฐุฌ ุงูุญุฌูุฒุงุช ุงููุญุฏุซ
ุชู ุชุญุฏูุซ ูููุฐุฌ `Appointment` ููุดูู:
- `patientName`: ุงุณู ุงููุฑูุถ (ูุฏ ูููู ูุฎุชูู ุนู ุงุณู ุงููุณุชุฎุฏู)
- `patientPhone`: ุฑูู ูุงุชู ุงููุฑูุถ
- `isBookingForOther`: ูุคุดุฑ ุฅุฐุง ูุงู ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ
- `bookerName`: ุงุณู ุงูุดุฎุต ุงูุฐู ูุงู ุจุงูุญุฌุฒ

### 2. ูุณุงุฑุงุช API ุงูุฌุฏูุฏุฉ

#### ุฃ) ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ
```
POST /appointments-for-other
```
**ุงููุนุงููุงุช ุงููุทููุจุฉ:**
- `userId`: ูุนุฑู ุงููุณุชุฎุฏู ุงูุฐู ูููู ุจุงูุญุฌุฒ
- `doctorId`: ูุนุฑู ุงูุทุจูุจ
- `userName`: ุงุณู ุงููุณุชุฎุฏู
- `doctorName`: ุงุณู ุงูุทุจูุจ
- `date`: ุชุงุฑูุฎ ุงูููุนุฏ
- `time`: ููุช ุงูููุนุฏ
- `reason`: ุณุจุจ ุงูุฒูุงุฑุฉ
- `patientAge`: ุนูุฑ ุงููุฑูุถ
- `patientName`: ุงุณู ุงููุฑูุถ (ูุทููุจ)
- `patientPhone`: ุฑูู ูุงุชู ุงููุฑูุถ
- `bookerName`: ุงุณู ุงูุดุฎุต ุงูุฐู ูุงู ุจุงูุญุฌุฒ
- `duration`: ูุฏุฉ ุงูููุนุฏ (ุงุฎุชูุงุฑู)

**ูุซุงู ููุงุณุชุฎุฏุงู:**
```json
{
  "userId": "user123",
  "doctorId": "doctor456",
  "userName": "ุฃุญูุฏ ูุญูุฏ",
  "doctorName": "ุฏ. ุนูู ุญุณู",
  "date": "2024-01-15",
  "time": "10:00",
  "reason": "ูุญุต ุฏูุฑู",
  "patientAge": 25,
  "patientName": "ูุงุทูุฉ ุฃุญูุฏ",
  "patientPhone": "+964771234567",
  "bookerName": "ุฃุญูุฏ ูุญูุฏ",
  "duration": 30
}
```

#### ุจ) ุชูุงุตูู ุงูููุนุฏ
```
GET /appointment-details/:appointmentId
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "appointment": {
    "appointmentId": "app123",
    "date": "2024-01-15",
    "time": "10:00",
    "doctorName": "ุฏ. ุนูู ุญุณู",
    "doctorSpecialty": "ุทุจ ุงูููุจ",
    "reason": "ูุญุต ุฏูุฑู",
    "status": "pending",
    "duration": 30,
    "isBookingForOther": true,
    "patientInfo": {
      "name": "ูุงุทูุฉ ุฃุญูุฏ",
      "age": 25,
      "phone": "+964771234567"
    },
    "bookerInfo": {
      "name": "ุฃุญูุฏ ูุญูุฏ",
      "phone": "+964778765432"
    },
    "message": "ุงูุญุฌุฒ ูู ูุจู: ุฃุญูุฏ ูุญูุฏ ูููุฑูุถ: ูุงุทูุฉ ุฃุญูุฏ"
  }
}
```

#### ุฌ) ุฅุญุตุงุฆูุงุช ุงูููุงุนูุฏ
```
GET /appointments-stats/:doctorId
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "success": true,
  "stats": {
    "total": 150,
    "forOthers": 45,
    "selfBookings": 105,
    "statusBreakdown": [
      { "_id": "pending", "count": 30 },
      { "_id": "confirmed", "count": 100 },
      { "_id": "completed", "count": 20 }
    ],
    "recentBookings": 25,
    "percentageForOthers": 30
  }
}
```

### 3. ุชุญุฏูุซ ุงููุณุงุฑุงุช ุงูููุฌูุฏุฉ

#### ุฃ) ูุณุงุฑ ุงูุญุฌุฒ ุงูุนุงุฏู
```
POST /appointments
```
ูุฏุนู ุงูุขู ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ ูุน ุงููุนุงููุงุช ุงูุฅุถุงููุฉ.

#### ุจ) ุนุฑุถ ููุงุนูุฏ ุงูุทุจูุจ
```
GET /doctor-appointments/:doctorId
```
ูุนุฑุถ ุงูุขู ูุนูููุงุช ุฅุถุงููุฉ ููุญุฌุฒ ูุดุฎุต ุขุฎุฑ ูู ุญูู `displayInfo`.

#### ุฌ) ุฅูุบุงุก ุงูููุนุฏ
```
DELETE /appointments/:id
```
ูุนุฑุถ ุฑุณุงุฆู ูุฎุชููุฉ ููุญุฌุฒ ุงูุนุงุฏู ูุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ.

## ๐ง ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ
```javascript
const response = await fetch('/appointments-for-other', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    userId: 'user123',
    doctorId: 'doctor456',
    userName: 'ุฃุญูุฏ ูุญูุฏ',
    doctorName: 'ุฏ. ุนูู ุญุณู',
    date: '2024-01-15',
    time: '10:00',
    reason: 'ูุญุต ุฏูุฑู',
    patientAge: 25,
    patientName: 'ูุงุทูุฉ ุฃุญูุฏ',
    patientPhone: '+964771234567',
    bookerName: 'ุฃุญูุฏ ูุญูุฏ',
    duration: 30
  })
});
```

### 2. ุนุฑุถ ุชูุงุตูู ุงูููุนุฏ
```javascript
const response = await fetch(`/appointment-details/${appointmentId}`);
const data = await response.json();
console.log(data.appointment.message);
```

### 3. ุนุฑุถ ุฅุญุตุงุฆูุงุช ุงูุทุจูุจ
```javascript
const response = await fetch(`/appointments-stats/${doctorId}`);
const data = await response.json();
console.log(`ูุณุจุฉ ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ: ${data.stats.percentageForOthers}%`);
```

## ๐ฑ ุนุฑุถ ุงููุนูููุงุช ููุฏูุชูุฑ

ุนูุฏ ุนุฑุถ ุงูููุงุนูุฏ ููุฏูุชูุฑุ ุณุชุธูุฑ ุงููุนูููุงุช ุงูุชุงููุฉ:

### ููุญุฌุฒ ุงูุนุงุฏู:
- ุงุณู ุงููุฑูุถ: ุงุณู ุงููุณุชุฎุฏู
- ุฑูู ุงููุงุชู: ุฑูู ุงููุณุชุฎุฏู
- ุฑุณุงูุฉ: "ุงูุญุฌุฒ ูู ูุจู: [ุงุณู ุงููุณุชุฎุฏู]"

### ููุญุฌุฒ ูุดุฎุต ุขุฎุฑ:
- ุงุณู ุงููุฑูุถ: ุงุณู ุงููุฑูุถ ุงููุญุฏุฏ
- ุฑูู ุงููุงุชู: ุฑูู ุงููุฑูุถ
- ุฑุณุงูุฉ: "ุงูุญุฌุฒ ูู ูุจู: [ุงุณู ุงูุญุงุฌุฒ] ูููุฑูุถ: [ุงุณู ุงููุฑูุถ]"

## ๐ ุงููุฒุงูุง

1. **ูุฑููุฉ ูู ุงูุญุฌุฒ**: ูููู ูููุณุชุฎุฏููู ุญุฌุฒ ููุงุนูุฏ ูุฃูุฑุงุฏ ุงูุนุงุฆูุฉ ูุงูุฃุตุฏูุงุก
2. **ูุนูููุงุช ูุงุถุญุฉ**: ูุฑู ุงูุทุจูุจ ุจูุถูุญ ูู ูู ุงููุฑูุถ ููู ูุงู ุจุงูุญุฌุฒ
3. **ุฅุญุตุงุฆูุงุช ููุตูุฉ**: ูููู ููุทุจูุจ ุฑุคูุฉ ูุณุจุฉ ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ
4. **ุชุชุจุน ุฃูุถู**: ุชุชุจุน ูููุตู ูููุฑุถู ูุงูุญุงุฌุฒูู
5. **ุฑุณุงุฆู ูุฎุตุตุฉ**: ุฑุณุงุฆู ูุฎุชููุฉ ุญุณุจ ููุน ุงูุญุฌุฒ

## ๐ ุงูุฃูุงู

- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ
- ุงูุชุญูู ูู ุนุฏู ูุฌูุฏ ููุงุนูุฏ ููุฑุฑุฉ
- ุงูุชุญูู ูู ุฃูุงู ุงูุฅุฌุงุฒุงุช
- ุชุณุฌูู ุฌููุน ุงูุนูููุงุช ูู ุงูุณุฌูุงุช

## ๐ ููุงุญุธุงุช

- ูุฌุจ ุฃู ูููู ุนูุฑ ุงููุฑูุถ ุจูู 1 ู 120 ุณูุฉ
- ุงุณู ุงููุฑูุถ ูุทููุจ ุนูุฏ ุงูุญุฌุฒ ูุดุฎุต ุขุฎุฑ
- ูุชู ุญูุธ ูุนูููุงุช ุงูุญุงุฌุฒ ูุงููุฑูุถ ุจุดูู ูููุตู
- ูููู ุฅูุบุงุก ุงูููุนุฏ ูู ุฃู ููุช
